@using Dev_proc.Constants
@using Dev_proc.Models.Enums
@using Dev_proc.Models.ViewModels.PositionViews
@model Dev_proc.Models.ViewModels.PositionViews.PositionAndCompanyViewModel
@{
	ViewData["Title"] = "Companies Page";
}


<div class="text-left">

	<p class="h3">@Model.CompanyName</p>

	@foreach (var position in @Model.positions)
	{
		<div class="card mb-3">
			<div class="card-header">Position name: @position.Name @CshtmlHelper.AvailablePlacesToName(@position.AvailablePlaces)</div>
			<div class="card-body">
				<div class="card-text">Description: @position.Description</div>
				<p class="h4">Candidates:</p>
				@foreach (var application in position.Applications)
				{
					<div class="card-body">
						<a href='@Url.Action("GetCandidature","Candidacy",new {candidatureId = application.Id})' class="btn @CshtmlHelper.CandidatureStatusColor(application.Status)">@application.User.Email</a>
					</div>
				}				
			</div>
		</div>
	}

</div>
